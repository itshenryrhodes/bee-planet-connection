<!-- _layouts/default.html -->
<!doctype html>
<html lang="en">
<head>
  {% include head.html %}
</head>
<body>
  {% include header.html %}

  <main id="main" class="container">
    {{ content }}
  </main>

  <footer class="site-footer">
    <p>&copy; {{ "now" | date: "%Y" }} Bee Planet Connection</p>
  </footer>

  <script>
    // basic menu toggle (no framework)
    const btn = document.querySelector('.menu-toggle');
    const menu = document.getElementById('site-menu');
    if (btn && menu) {
      btn.addEventListener('click', () => {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', (!expanded).toString());
        menu.classList.toggle('open');
      });
    }
  </script>

  <!-- Register Service Worker (safe, uses relative_url) -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('{{ "/sw.js" | relative_url }}')
        .catch(err => console.error("SW registration failed:", err));
    }
  </script>
</body>
</html>
