{%- assign hid = page.hero_id | default: nil -%}
{%- if hid -%}
  {%- assign side = page.hero_side | default: "auto" -%}
  {%- capture id_digits -%}{{ hid | replace: " ", "" | replace: "-", "" | replace: "_", "" }}{%- endcapture -%}
  {%- assign id_num = id_digits | plus: 0 -%}
  {%- if side == "auto" -%}
    {%- assign parity = id_num | modulo: 2 -%}
    {%- if parity == 0 -%}
      {%- assign side = "right" -%}
    {%- else -%}
      {%- assign side = "left" -%}
    {%- endif -%}
  {%- endif -%}

  <section class="hero hero--compact hero--{{ side }}">
    <div class="hero__inner">
      <div class="hero__copy">
        {%- if page.hero_title or page.title -%}
          <h1 class="hero__title">{{ page.hero_title | default: page.title }}</h1>
        {%- endif -%}
        {%- if page.hero_text -%}
          <p class="hero__text">{{ page.hero_text }}</p>
        {%- endif -%}
        {%- if page.hero_cta_text and page.hero_cta_href -%}
          <p class="hero__actions">
            <a class="btn btn--primary" href="{{ page.hero_cta_href }}">{{ page.hero_cta_text }}</a>
          </p>
        {%- endif -%}
      </div>

      <div class="hero__media">
        <picture>
          <source type="image/webp" srcset="/img/hero/hero-{{ hid }}-mobile.webp" media="(max-width: 480px)">
          <source type="image/webp" srcset="/img/hero/hero-{{ hid }}-sm.webp" media="(max-width: 768px)">
          <source type="image/webp" srcset="/img/hero/hero-{{ hid }}-md.webp" media="(max-width: 1200px)">
          <source type="image/webp" srcset="/img/hero/hero-{{ hid }}-lg.webp">
          <source type="image/jpeg" srcset="/img/hero/hero-{{ hid }}-mobile.jpg" media="(max-width: 480px)">
          <source type="image/jpeg" srcset="/img/hero/hero-{{ hid }}-sm.jpg" media="(max-width: 768px)">
          <source type="image/jpeg" srcset="/img/hero/hero-{{ hid }}-md.jpg" media="(max-width: 1200px)">
          <img class="hero__img" loading="eager" decoding="async" alt="{{ page.hero_title | default: page.title | default: 'Hero image' }}" src="/img/hero/hero-{{ hid }}-lg.jpg" width="640" height="400">
        </picture>
      </div>
    </div>
  </section>
{%- endif -%}
